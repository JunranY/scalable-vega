!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r(require("vega")):"function"==typeof define&&define.amd?define(["vega"],r):(e=e||self).QueryCore=r(e.vega)}(this,function(e){function r(r){e.Transform.call(this,[],r)}return r.session=function(e){return e?(this._session=e,this):this._session},r.Definition={type:"QueryCore",metadata:{changes:!0,source:!0},params:[{name:"query",type:"string",required:!0}]},e.inherits(r,e.Transform).transform=function(s,n){try{var i=this;if(!r._session)throw Error("OmniSci Core session missing. Please assign it to the vega transform by calling `QueryCore.session(session).`");return Promise.resolve(r._session.queryAsync(s.query)).then(function(r){r.forEach(e.ingest);var s=n.fork(n.NO_FIELDS&n.NO_SOURCE);return s.rem=i.value,i.value=s.add=s.source=r,s})}catch(e){return Promise.reject(e)}},r});
//# sourceMappingURL=vega-transform-omnisci-core.umd.js.map
